uuid: 3dd41ca0-cd37-4d92-9869-a1c817c3f100
langcode: en
status: true
dependencies:
  module:
    - system
    - wxt_library
id: consultations_table
label: 'Consultations table'
code: "(function ($) {\r\n\r\n// Variable to get the URL of the page \r\nvar url = $(location).attr('href'); \r\n\r\n// Variable to store the query parameter in the URL \r\nvar term = url.split('?topic=')[1]; \r\n// Variable to replace encoded spaces and replace with regular spaces \r\n\r\nif (term !== \"\" && term !== undefined) { \r\nvar btnTerm = term.replace(/%20/g,\" \").replace(/ /g,\"-\").toLowerCase(); \r\nvar filterTerm = term.replace(/%20/g,\" \"); \r\n} \r\n\r\n//Function to filter table based on the query parameter \r\n$(document).on(\"wb-ready.wb-tables\", function () { \r\n\r\nvar tableAccents = $(\"#consultations\").dataTable(); \r\nvar table = $(\"#consultations\").DataTable(); \r\n\r\n$('.dataTables_filter input').keyup(function () { \r\ntableAccents.fnFilter(AccentFilter(this.value), null, true); \r\n}); \r\n\r\nfunction AccentFilter(text) { \r\nvar filter = \"\"; \r\n for (var i = 0; i < text.length; i++) { \r\nvar ch = text.charAt(i); \r\n\r\nswitch (ch) { \r\n //à a with grave 00E0 \r\n //À capital a with grave 00C0 \r\n //â a with circumflex 00E2 \r\n //Â capital A with circumflex 00C2 \r\n case 'â': \r\nch = '[âa]'; \r\nbreak; \r\ncase 'a': \r\nch = '[âaà]'; \r\n break; \r\n case 'à': \r\nch = '[àa]'; \r\n break; \r\n case 'Â': \r\nch = '[ÂA]'; \r\n break; \r\ncase 'A': \r\nch = '[ÂAÀ]'; \r\n break; \r\ncase 'À': \r\nch = '[ÀA]'; \r\n break; \r\n\r\n//ç c with cedilla 00E7 \r\n //Ç capital C with 00C7 \r\n case 'Ç': \r\nch = '[ÇC]'; \r\nbreak; \r\n case 'C': \r\nch = '[ÇC]'; \r\nbreak; \r\n case 'ç': \r\nch = '[çc]'; \r\nbreak; \r\n case 'c': \r\nch = '[çc]'; \r\n break; \r\n\r\n//è e with grave 00E8 \r\n //È capital e with grave 00C8 \r\n //é e with acute 00E9 \r\n //É capital e with acute 00C9 \r\n //ê e with circumflex 00EA \r\n //Ê capital E with circumflex 00CA \r\n //ë e with dieresis 00EB \r\n //Ë capital E with dieresis 00CB \r\n case 'e': \r\nch = '[éeèë]'; \r\n break; \r\n case 'é': \r\nch = '[ée]'; \r\n break; \r\n case 'ê': \r\nch = '[êe]'; \r\n break; \r\n case 'è': \r\nch = '[èe]'; \r\n break; \r\ncase 'ë': \r\nch = '[ëe]'; \r\n break; \r\n case 'E': \r\nch = '[ÉEÈë]'; \r\n break; \r\n case 'É': \r\nch = '[ÉE]'; \r\n break; \r\n case 'Ê': \r\nch = '[ÊE]'; \r\nbreak; \r\n case 'È': \r\nch = '[ÈE]'; \r\n break; \r\n case 'Ë': \r\nch = '[ËE]'; \r\n break; \r\n\r\n//î i with circumflex 00EE \r\n//Î capital I with circumflex 00CE \r\n //ï i with dieresis 00EF \r\n //Ï capital I with dieresis 00CF \r\n case 'î': \r\nch = '[îi]'; \r\n break; \r\ncase 'i': \r\nch = '[îiï]'; \r\n break; \r\n case 'ï': \r\nch = '[ïi]'; \r\n break; \r\n case 'Î': \r\nch = '[ÎI]'; \r\n break; \r\n case 'I': \r\nch = '[ÎIÏ]'; \r\n break; \r\n case 'Ï': \r\nch = '[ÏI]'; \r\n break; \r\n\r\n//ô o with circumflex 00F4 \r\n //Ô capital O with circumflex 00D4 \r\n case 'ô': \r\nch = '[ôo]'; \r\n break; \r\n case 'o': \r\nch = '[ôo]'; \r\n break; \r\n case 'Ô': \r\nch = '[ÔO]'; \r\n break; \r\n case 'O': \r\nch = '[ÔO]'; \r\n break; \r\n\r\n//ù u with grave 00F9 \r\n //Ù capital U with grave 00D9 \r\n //û u with circumflex 00FB \r\n //Û capital U with circumflex 00DB \r\n //ü u with dieresis 00FC \r\n //Ü capital U with dieresis 00DC \r\n case 'û': \r\nch = '[ûu]'; \r\n break; \r\ncase 'u': \r\nch = '[ûuù]'; \r\n break; \r\n case 'ù': \r\nch = '[ùu]'; \r\n break; \r\n case 'ü': \r\nch = '[üu]'; \r\n break; \r\n case 'Û': \r\nch = '[ÛU]'; \r\n break; \r\n case 'U': \r\nch = '[ÛUÙ]'; \r\n break; \r\n case 'Ù': \r\nch = '[ÙU]'; \r\nbreak; \r\ncase 'Ü': \r\nch = '[ÜU]'; \r\nbreak; \r\n\r\n//ÿ y with dieresis 00FF \r\n //Ÿ capital Y with dieresis 0178 \r\n case 'ÿ': \r\nch = '[ÿy]'; \r\nbreak; \r\n case 'y': \r\nch = '[ÿy]'; \r\n break; \r\n case 'Ÿ': \r\nch = '[ŸY]'; \r\n break; \r\n case 'Y': \r\nch = '[ŸY]'; \r\n break; \r\n default: \r\n break; \r\n} \r\n\r\nfilter += ch; \r\n } \r\n\r\nreturn filter; \r\n} \r\n\r\n\r\nif (term !== \"\" && term !== undefined) { \r\n\r\n$(\"#\" + btnTerm).addClass(\"btn-primary\"); \r\n\r\ntable \r\n\t.columns(1) \r\n.search(filterTerm) \r\n\t.draw(); \r\n\t} \r\n});\r\n}(jQuery));"
noscript: ''
noscriptRegion: {  }
jquery: true
header: false
preprocess: false
conditions:
  request_path:
    id: request_path
    pages: /consultations
    negate: false
  panels_title:
    id: panels_title
    enabled: 0
    negate: false
    context_mapping: {  }
conditions_require_all: true
